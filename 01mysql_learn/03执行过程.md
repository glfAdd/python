[参考 1](https://blog.csdn.net/wanghailan1818/article/details/121472158)



##### 连接器

```
与客户端的通信, 进行权限验证
```

##### 缓存

```

```

##### 分析器

```
将客户端发过来的sql语句进行分析, 关键词和非关键词进行提取、解析，生成一个解析树
```

##### 优化器

```
1. 分析器完成之后，语法树已经是合法的了, 优化器将这条语法树转化成执行计划. 一条sql语句，执行的方式有很多，比如是否走索引、走哪条索引、关联查询哪张表做主表等等, 优化器的作用就是根据程序员写的sql语句找到一条它认为最好的执行计划。

2. 分类: 静态优化和动态优化
```

经过优化器优化的sql 不总是最优的执行计划

1. 统计信息不完整或者不准确，比如InnoDB的MVCC多版本并发控制会导致表数据行的统计不准确
2. 候即使统计的信息很准确，优化器给出的执行计划也有可能不是最优的。例如某个 sql  执行虽然需要读取更多的页面或者数据，如果读取的页面都是有序的或者这些页面(数据)已经被加载到内存中了，这个时候的访问成本比执行计划估计的成本小得多，mysql并不知道哪些数据存在内存，哪些数据存在磁盘中，所以IO的次数也是未知数。
3. mysql 的最优并不一定是最快的执行方式
4. mysql 从不考虑其他并发执行的查询，这可能影响到当前查询的速度

##### 执行器

```
调用存储引擎的 api



```



